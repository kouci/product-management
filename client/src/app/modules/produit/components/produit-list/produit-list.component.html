<div>
  <!-- Bouton Ajouter produit -->
  <div class="text-right mb-4">
    <button
      pButton
      label="Ajouter un Produit"
      icon="pi pi-plus"
      severity="secondary"
      routerLink="/produit/ajouter"
    ></button>
  </div>

  <h1 class="title text-center mb-4">Liste des Produits</h1>

  <!-- Tableau des produits -->
  <p-table #dt [value]="produits" [paginator]="true" [rows]="10" [responsiveLayout]="'scroll'">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="nom">Nom <p-sortIcon field="nom"></p-sortIcon></th>
        <th pSortableColumn="description">Description <p-sortIcon field="description"></p-sortIcon></th>
        <th pSortableColumn="prix">Prix <p-sortIcon field="prix"></p-sortIcon></th>
        <th pSortableColumn="quantite">Quantité <p-sortIcon field="quantite"></p-sortIcon></th>
        <th pSortableColumn="nomCategorie">Catégorie <p-sortIcon field="nomCategorie"></p-sortIcon></th>
        <th>Actions</th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-produit>
      <tr>
        <td>{{ produit.nom }}</td>
        <td>{{ produit.description }}</td>
        <td>{{ produit.prix | currency : "EUR" }}</td>
        <td>{{ produit.quantite }}</td>
        <td>{{ produit.categorieNom || 'Chargement...' }}</td>
        <td>
          <button
            pButton
            label="Voir"
            icon="pi pi-eye"
            class="p-button-rounded p-button-text p-button-primary"
            [routerLink]="['/produit/detail', produit.id]"
          ></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
